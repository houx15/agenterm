/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{-webkit-user-select:text;user-select:text;white-space:pre}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}:root{--bg-app: #0a0a0a;--bg-surface: #141414;--bg-surface-hover: #1a1a1a;--bg-surface-active: #1f1f1f;--bg-elevated: #1c1c1c;--border-subtle: #1e1e1e;--border-default: #2a2a2a;--text-primary: #e8e8e8;--text-secondary: #888888;--text-tertiary: #555555;--accent: #8b5cf6;--accent-hover: #a78bfa;--accent-muted: rgba(139, 92, 246, .15);--status-green: #22c55e;--status-yellow: #eab308;--status-red: #ef4444;--status-gray: #6b7280;--font-sans: "SF Pro Text", -apple-system, "Segoe UI", sans-serif;--font-mono: "SF Mono", "Fira Code", "Cascadia Code", monospace;--sidebar-width: 220px;--panel-width: 0px;--transition-fast: .15s ease;--focus-ring: 1px solid var(--accent);--success-bg: rgba(34, 197, 94, .12);--success: #22c55e;--error-bg: rgba(239, 68, 68, .12);--error: #ef4444}:root{--font-sans-fallback: -apple-system, "Segoe UI", sans-serif}:root{--terminal-bg: #0a0f1a;--terminal-fg: #d1d5db;--terminal-cursor: #d1d5db;--terminal-selection: rgba(139, 92, 246, .3);--terminal-black: #1a1a2e;--terminal-red: #ef4444;--terminal-green: #22c55e;--terminal-yellow: #eab308;--terminal-blue: #3b82f6;--terminal-magenta: #a855f7;--terminal-cyan: #06b6d4;--terminal-white: #d1d5db;--terminal-bright-black: #4b5563;--terminal-bright-red: #f87171;--terminal-bright-green: #4ade80;--terminal-bright-yellow: #fde047;--terminal-bright-blue: #60a5fa;--terminal-bright-magenta: #c084fc;--terminal-bright-cyan: #22d3ee;--terminal-bright-white: #f3f4f6}:root[data-theme=light]{--bg-app: #fafafa;--bg-surface: #ffffff;--bg-surface-hover: #f5f5f5;--bg-surface-active: #efefef;--bg-elevated: #ffffff;--border-subtle: #e5e5e5;--border-default: #d4d4d4;--text-primary: #171717;--text-secondary: #737373;--text-tertiary: #a3a3a3;--accent: #7c3aed;--accent-hover: #6d28d9;--accent-muted: rgba(124, 58, 237, .1);--success-bg: #e8f5e9;--success: #2e7d32;--error-bg: #fdecea;--error: #c62828;--terminal-bg: #ffffff;--terminal-fg: #1e1e1e;--terminal-cursor: #1e1e1e;--terminal-selection: rgba(124, 58, 237, .15);--terminal-black: #000000;--terminal-red: #cd3131;--terminal-green: #00bc00;--terminal-yellow: #949800;--terminal-blue: #0451a5;--terminal-magenta: #bc05bc;--terminal-cyan: #0598bc;--terminal-white: #555555;--terminal-bright-black: #666666;--terminal-bright-red: #cd3131;--terminal-bright-green: #14ce14;--terminal-bright-yellow: #b5ba00;--terminal-bright-blue: #0451a5;--terminal-bright-magenta: #bc05bc;--terminal-bright-cyan: #0598bc;--terminal-bright-white: #a5a5a5}:root[data-theme=monokai]{--bg-app: #272822;--bg-surface: #2d2e27;--bg-surface-hover: #3e3d32;--bg-surface-active: #49483e;--bg-elevated: #3e3d32;--border-subtle: #3e3d32;--border-default: #49483e;--text-primary: #f8f8f2;--text-secondary: #a6a28c;--text-tertiary: #75715e;--accent: #a6e22e;--accent-hover: #b6f23e;--accent-muted: rgba(166, 226, 46, .15);--success-bg: rgba(166, 226, 46, .12);--success: #a6e22e;--error-bg: rgba(249, 38, 114, .12);--error: #f92672;--terminal-bg: #272822;--terminal-fg: #f8f8f2;--terminal-cursor: #f8f8f0;--terminal-selection: rgba(73, 72, 62, .5);--terminal-black: #272822;--terminal-red: #f92672;--terminal-green: #a6e22e;--terminal-yellow: #f4bf75;--terminal-blue: #66d9ef;--terminal-magenta: #ae81ff;--terminal-cyan: #a1efe4;--terminal-white: #f8f8f2;--terminal-bright-black: #75715e;--terminal-bright-red: #f92672;--terminal-bright-green: #a6e22e;--terminal-bright-yellow: #f4bf75;--terminal-bright-blue: #66d9ef;--terminal-bright-magenta: #ae81ff;--terminal-bright-cyan: #a1efe4;--terminal-bright-white: #f9f8f5}:root[data-theme=one-dark-pro]{--bg-app: #282c34;--bg-surface: #2c313a;--bg-surface-hover: #333842;--bg-surface-active: #3b4048;--bg-elevated: #333842;--border-subtle: #3b4048;--border-default: #4b5263;--text-primary: #abb2bf;--text-secondary: #7f848e;--text-tertiary: #5c6370;--accent: #61afef;--accent-hover: #82c0f0;--accent-muted: rgba(97, 175, 239, .15);--success-bg: rgba(152, 195, 121, .12);--success: #98c379;--error-bg: rgba(224, 108, 117, .12);--error: #e06c75;--terminal-bg: #282c34;--terminal-fg: #abb2bf;--terminal-cursor: #528bff;--terminal-selection: rgba(97, 175, 239, .25);--terminal-black: #282c34;--terminal-red: #e06c75;--terminal-green: #98c379;--terminal-yellow: #e5c07b;--terminal-blue: #61afef;--terminal-magenta: #c678dd;--terminal-cyan: #56b6c2;--terminal-white: #abb2bf;--terminal-bright-black: #5c6370;--terminal-bright-red: #e06c75;--terminal-bright-green: #98c379;--terminal-bright-yellow: #e5c07b;--terminal-bright-blue: #61afef;--terminal-bright-magenta: #c678dd;--terminal-bright-cyan: #56b6c2;--terminal-bright-white: #ffffff}*{box-sizing:border-box}html,body,#root{height:100%;margin:0}body{font-family:var(--font-sans);background:var(--bg-app);color:var(--text-primary);overflow-x:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}button,textarea,input,select{font:inherit}.workspace{display:grid;grid-template-columns:var(--sidebar-width) 1fr var(--panel-width);height:100vh;overflow:hidden;transition:grid-template-columns .2s ease}.workspace.panel-open{--panel-width: 340px}.workspace.sidebar-collapsed{--sidebar-width: 0px}.resize-handle{width:4px;cursor:col-resize;background:transparent;transition:background var(--transition-fast);flex-shrink:0;z-index:10;position:relative}.resize-handle:after{content:"";position:absolute;top:0;bottom:0;left:-2px;right:-2px}.resize-handle:hover,.resize-handle.active{background:var(--accent)}.workspace.resizing *{pointer-events:none}.workspace.resizing .resize-handle{pointer-events:auto}.sidebar{height:100%;background:var(--bg-surface);border-right:1px solid var(--border-subtle);display:flex;flex-direction:column;overflow-y:auto;overflow-x:hidden;transition:width var(--transition-fast),opacity var(--transition-fast)}.sidebar-header{padding:14px 12px 10px;display:flex;flex-direction:row;align-items:center;border-bottom:1px solid var(--border-subtle);flex-shrink:0}.sidebar-brand{font-size:16px;font-weight:700;color:var(--text-primary);letter-spacing:-.02em;background:linear-gradient(135deg,var(--accent),var(--accent-hover));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.sidebar-tree{flex:1;overflow-y:auto;padding:4px 0}.sidebar-project{margin-bottom:2px}.sidebar-project-header{cursor:pointer;padding:7px 12px;display:flex;flex-direction:row;align-items:center;gap:6px;border-radius:4px;margin:0 4px;font-size:13px;font-weight:500;color:var(--text-primary);transition:background var(--transition-fast),color var(--transition-fast);-webkit-user-select:none;user-select:none}.sidebar-project-header:hover{background:var(--bg-surface-hover)}.sidebar-project-header.active{background:var(--accent-muted);color:var(--accent)}.sidebar-project-header:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.sidebar-agent-item{padding:5px 12px 5px 32px;display:flex;flex-direction:row;gap:8px;font-size:13px;color:var(--text-secondary);align-items:center;border-radius:4px;margin:1px 4px;transition:background var(--transition-fast),color var(--transition-fast)}.sidebar-agent-item:hover{background:var(--bg-surface-hover);color:var(--text-primary)}.sidebar-agent-item:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.sidebar-status-dot{width:8px;height:8px;border-radius:50%;display:inline-block;flex-shrink:0}.sidebar-status-dot.working{background:var(--status-green);box-shadow:0 0 4px #22c55e66}.sidebar-status-dot.waiting{background:var(--status-yellow);box-shadow:0 0 4px #eab3084d}.sidebar-status-dot.error{background:var(--status-red);box-shadow:0 0 4px #ef444466}.sidebar-status-dot.idle{background:var(--status-gray)}.sidebar-unread-badge{display:inline-flex;align-items:center;justify-content:center;min-width:14px;height:14px;padding:0 3px;border-radius:7px;background:var(--status-red);color:#fff;font-size:10px;font-weight:600;line-height:1;flex-shrink:0}.sidebar-utilities{margin-top:auto;border-top:1px solid var(--border-subtle);padding:6px 4px;flex-shrink:0}.sidebar-utility-item{padding:6px 12px;display:flex;flex-direction:row;align-items:center;gap:8px;font-size:13px;color:var(--text-secondary);cursor:pointer;border-radius:4px;transition:background var(--transition-fast),color var(--transition-fast)}.sidebar-utility-item:hover{color:var(--text-primary);background:var(--bg-surface-hover)}.sidebar-utility-item:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.sidebar-new-project-btn{padding:8px 12px;margin:2px 4px;font-size:13px;font-weight:500;color:var(--accent);cursor:pointer;border-radius:4px;transition:background var(--transition-fast),color var(--transition-fast);flex-shrink:0}.sidebar-new-project-btn:hover{background:var(--accent-muted);color:var(--accent-hover)}.terminal-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1px;background:var(--border-subtle);flex:1;overflow:hidden}.terminal-grid:has(.terminal-pane:only-child){grid-template-columns:1fr}.terminal-pane{display:flex;flex-direction:column;background:var(--bg-app);min-height:0;overflow:hidden}.terminal-pane-header{display:flex;align-items:center;gap:8px;padding:4px 10px;background:var(--bg-surface);border-bottom:2px solid transparent;font-size:12px;color:var(--text-secondary);flex-shrink:0;min-height:28px;transition:border-color var(--transition-fast)}.terminal-pane-header .pane-name{flex:1;font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.terminal-pane-header .pane-close{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:2px;border-radius:3px;line-height:0;transition:background var(--transition-fast),color var(--transition-fast)}.terminal-pane-header .pane-close:hover{color:var(--text-primary);background:var(--bg-surface-hover)}.terminal-pane-header .pane-close:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.terminal-pane.active .terminal-pane-header{border-bottom-color:var(--accent)}.terminal-pane.active .terminal-pane-header .pane-name{color:var(--accent)}.terminal-pane .terminal{flex:1}.orchestrator-panel{display:flex;flex-direction:column;background:var(--bg-surface);border-left:1px solid var(--border-subtle);height:100%;overflow:hidden}.orchestrator-panel-header{display:flex;align-items:center;justify-content:space-between;padding:8px 12px;border-bottom:1px solid var(--border-subtle);font-size:13px;font-weight:600;flex-shrink:0}.orchestrator-panel-header button{background:none;border:none;color:var(--text-tertiary);cursor:pointer;padding:4px;border-radius:4px;transition:background var(--transition-fast),color var(--transition-fast)}.orchestrator-panel-header button:hover{color:var(--text-primary);background:var(--bg-surface-hover)}.orchestrator-panel-header button:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.orchestrator-chat-area{flex:1;overflow-y:auto;padding:8px 12px}.orchestrator-sections{border-top:1px solid var(--border-subtle);flex-shrink:0}.orchestrator-section-header{display:flex;align-items:center;gap:8px;padding:8px 12px;font-size:12px;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast);-webkit-user-select:none;user-select:none}.orchestrator-section-header:hover{background:var(--bg-surface-hover);color:var(--text-primary)}.orchestrator-section-content{padding:4px 12px 8px;font-size:12px}.chat-input-row{display:flex;flex-direction:column;gap:6px;padding:8px 12px;border-top:1px solid var(--border-subtle);flex-shrink:0}.chat-input-row textarea{width:100%;min-height:36px;max-height:120px;padding:8px 10px;background:var(--bg-app);border:1px solid var(--border-default);border-radius:6px;color:var(--text-primary);font-size:13px;resize:vertical;transition:border-color var(--transition-fast)}.chat-input-row textarea:focus{outline:none;border-color:var(--accent)}.chat-input-actions{display:flex;align-items:center;gap:6px;justify-content:flex-end}.stage-pipeline-wrapper{border-bottom:1px solid var(--border-subtle);flex-shrink:0}.stage-pipeline-header{display:flex;align-items:center;gap:8px;padding:8px 12px;font-size:12px;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:background var(--transition-fast),color var(--transition-fast);-webkit-user-select:none;user-select:none}.stage-pipeline-header:hover{background:var(--bg-surface-hover);color:var(--text-primary)}.stage-pipeline{display:flex;align-items:center;gap:4px;padding:6px 12px 10px;flex-wrap:wrap;flex-shrink:0}.stage-chip{padding:2px 10px;border-radius:10px;font-size:11px;font-weight:500;text-transform:capitalize;border:1px solid transparent;transition:background var(--transition-fast),border-color var(--transition-fast)}.stage-chip.done{background:var(--accent);color:#fff}.stage-chip.active{border-color:var(--accent);color:var(--accent);background:var(--accent-muted)}.stage-chip.pending{color:var(--text-tertiary)}.stage-arrow{color:var(--text-tertiary);font-size:10px;margin:0 2px}.stage-build-detail{width:100%;padding:4px 12px 8px 24px;font-size:11px;color:var(--text-secondary);line-height:1.5}.btn{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;border-radius:5px;font-size:13px;cursor:pointer;border:none;transition:background var(--transition-fast),color var(--transition-fast),box-shadow var(--transition-fast),opacity var(--transition-fast)}.btn:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.btn-primary{background:var(--accent);color:#fff}.btn-primary:hover{background:var(--accent-hover)}.btn-primary:disabled{opacity:.5;cursor:default}.btn-secondary{background:var(--bg-surface-hover);color:var(--text-primary)}.btn-secondary:hover{background:var(--bg-surface-active)}.btn-ghost{background:none;color:var(--text-secondary);padding:4px 8px}.btn-ghost:hover{color:var(--text-primary);background:var(--bg-surface-hover)}.btn-danger{color:var(--status-red)}.btn-danger:hover{background:#ef44441a}.btn-icon{padding:4px;border-radius:4px}.primary-btn{display:inline-flex;align-items:center;gap:6px;padding:5px 14px;border-radius:5px;font-size:13px;cursor:pointer;border:none;background:var(--accent);color:#fff;transition:background var(--transition-fast)}.primary-btn:hover{background:var(--accent-hover)}.primary-btn:disabled{opacity:.5;cursor:default}.primary-btn:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.secondary-btn{display:inline-flex;align-items:center;gap:6px;padding:5px 12px;border-radius:5px;font-size:13px;cursor:pointer;border:1px solid var(--border-default);background:var(--bg-surface);color:var(--text-primary);transition:background var(--transition-fast),border-color var(--transition-fast)}.secondary-btn:hover{background:var(--bg-surface-hover);border-color:var(--text-tertiary)}.secondary-btn:disabled{opacity:.5;cursor:default}.secondary-btn:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.secondary-btn.danger-btn{color:var(--status-red);border-color:#ef44444d}.secondary-btn.danger-btn:hover{background:#ef44441a}.icon-only-btn{padding:5px;min-width:30px;min-height:30px;justify-content:center}.icon-only-btn svg{width:16px;height:16px}.action-btn{display:inline-flex;align-items:center;gap:4px;padding:4px 10px;border-radius:5px;font-size:12px;cursor:pointer;border:1px solid var(--border-default);background:var(--bg-surface);color:var(--text-primary);transition:background var(--transition-fast),border-color var(--transition-fast)}.action-btn:hover{background:var(--accent-muted);border-color:var(--accent);color:var(--accent)}.action-btn:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;z-index:100;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);animation:modal-fade-in .15s ease}.modal-card{background:var(--bg-elevated);border:1px solid var(--border-default);border-radius:10px;padding:20px;max-width:680px;width:92%;max-height:85vh;overflow-y:auto;box-shadow:0 12px 40px #00000080;animation:modal-slide-up .2s ease}@keyframes modal-fade-in{0%{opacity:0}to{opacity:1}}@keyframes modal-slide-up{0%{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}.modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;z-index:100;display:flex;align-items:center;justify-content:center;-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px)}.modal-content{background:var(--bg-elevated);border:1px solid var(--border-default);border-radius:10px;padding:20px;max-width:680px;width:92%;max-height:85vh;overflow-y:auto;box-shadow:0 12px 40px #00000080}.modal-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px;padding-bottom:12px;border-bottom:1px solid var(--border-subtle)}.modal-header h3{font-size:16px;font-weight:600;margin:0}.modal-form{display:flex;flex-direction:column;gap:14px}.modal-form p{font-size:13px;color:var(--text-secondary);margin:0;line-height:1.5}.home-view{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;padding:40px;gap:20px}.home-view-title{margin:0}.home-brand{font-size:32px;font-weight:700;letter-spacing:-.02em;background:linear-gradient(135deg,var(--accent),var(--accent-hover));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.home-stats{display:flex;gap:24px;color:var(--text-secondary);font-size:14px}.home-projects{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;width:100%;max-width:800px}.home-project-card{padding:16px;background:var(--bg-surface);border:1px solid var(--border-subtle);border-radius:8px;cursor:pointer;transition:border-color var(--transition-fast),background var(--transition-fast),box-shadow var(--transition-fast),transform .1s ease}.home-project-card:hover{border-color:var(--accent);background:var(--bg-surface-hover);box-shadow:0 2px 12px #8b5cf614;transform:translateY(-1px)}.home-project-card:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.home-project-card:active{transform:translateY(0)}.home-project-card h4{font-size:14px;font-weight:600;margin:0 0 4px}.home-project-card p{font-size:12px;color:var(--text-secondary);margin:0}.empty-state{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;color:var(--text-tertiary);font-size:14px;gap:12px;text-align:center;padding:20px}.empty-view{display:flex;flex-direction:column;align-items:center;justify-content:center;flex:1;color:var(--text-tertiary);font-size:13px;padding:20px;text-align:center}.empty-text{font-size:13px;color:var(--text-secondary);margin:0;line-height:1.5}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.badge{display:inline-flex;align-items:center;justify-content:center;min-width:14px;height:14px;padding:0 3px;border-radius:7px;font-size:10px;font-weight:600;line-height:1}.badge-red{background:var(--status-red);color:#fff}.badge-accent{background:var(--accent);color:#fff}.recording{color:var(--status-red);animation:pulse 1.5s infinite}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}.streaming-indicator{padding:4px 12px;font-size:12px;color:var(--accent)}.dashboard-error{font-size:13px;color:var(--status-red);margin:0;padding:6px 10px;background:#ef444414;border-radius:6px;border:1px solid rgba(239,68,68,.2)}.settings-field{display:flex;flex-direction:column;gap:5px;font-size:13px}.settings-field>span{font-size:12px;font-weight:500;color:var(--text-secondary)}.settings-field input,.settings-field select,.settings-field textarea{padding:7px 10px;background:var(--bg-app);border:1px solid var(--border-default);border-radius:6px;color:var(--text-primary);font-size:13px;transition:border-color var(--transition-fast)}.settings-field input:focus,.settings-field select:focus,.settings-field textarea:focus{outline:none;border-color:var(--accent)}.settings-field textarea{resize:vertical;min-height:60px;font-family:var(--font-mono);font-size:12px}.settings-field-checkbox{display:flex;flex-direction:row;align-items:center;gap:8px;font-size:13px;cursor:pointer}.settings-field-checkbox span{font-size:13px;color:var(--text-secondary)}.settings-field-checkbox input[type=checkbox]{width:16px;height:16px;accent-color:var(--accent);cursor:pointer}.settings-tabs{display:flex;gap:0;border-bottom:1px solid var(--border-subtle);margin-bottom:12px}.settings-tab{padding:8px 16px;font-size:13px;color:var(--text-secondary);background:none;border:none;border-bottom:2px solid transparent;cursor:pointer;transition:color var(--transition-fast),border-color var(--transition-fast)}.settings-tab:hover{color:var(--text-primary)}.settings-tab.active{color:var(--accent);border-bottom-color:var(--accent)}.settings-grid{display:grid;grid-template-columns:180px 1fr;gap:0;border:1px solid var(--border-subtle);border-radius:8px;overflow:hidden;min-height:320px}.settings-list{background:var(--bg-app);border-right:1px solid var(--border-subtle);overflow-y:auto;display:flex;flex-direction:column;padding:4px 0}.session-row{display:flex;flex-direction:column;gap:2px;padding:8px 12px;cursor:pointer;border:none;background:none;text-align:left;color:var(--text-secondary);font-size:13px;transition:background var(--transition-fast),color var(--transition-fast);width:100%}.session-row strong{color:var(--text-primary);font-weight:500;font-size:13px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.session-row small{font-size:11px;color:var(--text-tertiary)}.session-row:hover{background:var(--bg-surface-hover)}.session-row.active{background:var(--accent-muted);color:var(--accent)}.session-row.active strong{color:var(--accent)}.session-row:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.settings-editor{padding:14px;overflow-y:auto;display:flex;flex-direction:column;gap:12px}.settings-editor label{display:flex;flex-direction:column;gap:4px;font-size:12px;font-weight:500;color:var(--text-secondary)}.settings-editor label input,.settings-editor label select,.settings-editor label textarea{padding:7px 10px;background:var(--bg-app);border:1px solid var(--border-default);border-radius:6px;color:var(--text-primary);font-size:13px;transition:border-color var(--transition-fast)}.settings-editor label textarea{resize:vertical;min-height:60px;font-family:var(--font-mono);font-size:12px}.settings-editor label input:focus,.settings-editor label select:focus,.settings-editor label textarea:focus{outline:none;border-color:var(--accent)}.settings-editor label input:disabled{opacity:.5;cursor:not-allowed}.settings-table{width:100%;border-collapse:collapse;font-size:13px}.settings-table th{text-align:left;padding:6px 8px;color:var(--text-secondary);font-weight:500;border-bottom:1px solid var(--border-subtle)}.settings-table td{padding:6px 8px;border-bottom:1px solid var(--border-subtle)}.settings-table input{width:100%;padding:4px 8px;background:var(--bg-app);border:1px solid var(--border-default);border-radius:4px;color:var(--text-primary);font-size:13px;transition:border-color var(--transition-fast)}.settings-table input:focus{outline:none;border-color:var(--accent)}.settings-actions{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:4px;flex-wrap:wrap}.inline-field-row{display:flex;gap:6px;align-items:stretch}.inline-field-row input{flex:1;min-width:0;padding:7px 10px;background:var(--bg-app);border:1px solid var(--border-default);border-radius:6px;color:var(--text-primary);font-size:13px;transition:border-color var(--transition-fast)}.inline-field-row input:focus{outline:none;border-color:var(--accent)}.exception-item{display:flex;align-items:flex-start;gap:8px;padding:6px 0;border-bottom:1px solid var(--border-subtle);font-size:12px}.exception-item:last-child{border-bottom:none}.exception-item .exception-meta{flex:1;min-width:0}.exception-item .exception-category{font-weight:600;color:var(--text-primary)}.exception-item .exception-message{color:var(--text-secondary);margin-top:2px;word-break:break-word}.demand-item{display:flex;align-items:center;gap:8px;padding:6px 0;border-bottom:1px solid var(--border-subtle);font-size:12px}.demand-item:last-child{border-bottom:none}.demand-status-badge{padding:1px 6px;border-radius:4px;font-size:10px;font-weight:500;text-transform:capitalize;flex-shrink:0}.demand-status-badge.captured{background:var(--accent-muted);color:var(--accent)}.demand-status-badge.triaged{background:#22c55e26;color:var(--status-green)}.demand-status-badge.scheduled{background:#eab30826;color:var(--status-yellow)}.demand-status-badge.done{background:var(--bg-surface-hover);color:var(--text-tertiary)}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--border-default);border-radius:3px}::-webkit-scrollbar-thumb:hover{background:var(--text-tertiary)}*{scrollbar-width:thin;scrollbar-color:var(--border-default) transparent}.connect-qr{display:flex;flex-direction:column;align-items:center;gap:16px;padding:20px}.connect-url{font-size:13px;color:var(--text-secondary);word-break:break-all;text-align:center}.connect-token{font-family:var(--font-mono);font-size:12px;padding:8px 12px;background:var(--bg-app);border-radius:4px}.connect-mobile-qr-wrap{display:flex;justify-content:center;padding:16px}.connect-mobile-qr{width:200px;height:200px;border-radius:8px;border:1px solid var(--border-default)}.create-project-form{display:flex;flex-direction:column;gap:12px}.form-field{display:flex;flex-direction:column;gap:4px}.form-field label{font-size:12px;font-weight:500;color:var(--text-secondary)}.form-field input,.form-field select{padding:8px 10px;background:var(--bg-app);border:1px solid var(--border-default);border-radius:6px;color:var(--text-primary);font-size:13px;transition:border-color var(--transition-fast)}.form-field input:focus,.form-field select:focus{outline:none;border-color:var(--accent)}.folder-browser{background:var(--bg-app);border:1px solid var(--border-default);border-radius:8px;padding:10px;display:flex;flex-direction:column;gap:8px}.folder-browser-path-row{display:flex;gap:6px;align-items:stretch}.folder-browser-path-row input{flex:1;min-width:0;padding:6px 10px;background:var(--bg-surface);border:1px solid var(--border-default);border-radius:5px;color:var(--text-primary);font-size:12px;font-family:var(--font-mono);transition:border-color var(--transition-fast)}.folder-browser-path-row input:focus{outline:none;border-color:var(--accent)}.folder-browser-hint{font-size:11px;color:var(--text-tertiary);margin:0}.folder-browser-actions{display:flex;gap:6px}.folder-browser-list{display:flex;flex-direction:column;gap:1px;max-height:200px;overflow-y:auto;border:1px solid var(--border-subtle);border-radius:6px}.folder-browser-item{display:flex;align-items:center;gap:6px;padding:6px 10px;font-size:12px;font-family:var(--font-mono);color:var(--text-primary);cursor:pointer;border:none;background:var(--bg-surface);text-align:left;width:100%;transition:background var(--transition-fast)}.folder-browser-item:hover{background:var(--bg-surface-hover);color:var(--accent)}.folder-browser-item:focus-visible{outline:var(--focus-ring);outline-offset:-1px}.pm-chat-panel{display:flex;flex-direction:column;overflow:hidden;flex:1;min-height:0}.pm-panel-header{display:flex;align-items:center;justify-content:space-between;padding:6px 12px;border-bottom:1px solid var(--border-subtle);flex-shrink:0}.pm-panel-header h3{font-size:12px;font-weight:600;margin:0;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.03em}.pm-panel-header small{font-size:11px;color:var(--text-tertiary)}.pm-chat-messages{flex:1;overflow:auto;padding:.8rem;display:grid;gap:.6rem;align-content:start}.pm-chat-message{display:grid;gap:.35rem}.pm-chat-status{display:inline-flex;align-items:center;gap:.3rem;font-size:.68rem;letter-spacing:.02em;color:var(--text-secondary);text-transform:uppercase}.pm-chat-message.command .pm-chat-status,.pm-chat-message.kind-tool_call .pm-chat-status,.pm-chat-message.kind-tool_result .pm-chat-status{color:#8ea6d8}.pm-chat-message.confirmation .pm-chat-status{color:#74c18b}.pm-chat-message.user{justify-items:end}.pm-chat-bubble{border:1px solid var(--border-default);border-radius:10px;padding:.55rem .7rem;max-width:min(760px,100%);white-space:pre-wrap;font-size:13px;line-height:1.5;word-break:break-word}.pm-chat-message.user .pm-chat-bubble{background:var(--accent-muted);border-color:#8b5cf633}.pm-chat-message.assistant .pm-chat-bubble{background:var(--bg-surface)}.pm-chat-message.tool .pm-chat-bubble{background:var(--bg-surface-hover);font-size:12px}.pm-chat-message.error .pm-chat-bubble{background:#ef44441a;border-color:#ef444433}.pm-chat-message.system .pm-chat-bubble{background:var(--bg-surface-hover);border-color:var(--border-subtle);font-size:12px;color:var(--text-secondary);font-family:var(--font-mono)}.pm-streaming-indicator{color:var(--text-secondary);font-size:12px;padding:4px 0;animation:pulse 1.5s infinite}.pm-chat-input-row{border-top:1px solid var(--border-default);padding:.6rem;display:grid;gap:.45rem;position:sticky;bottom:0;background:var(--bg-surface);z-index:1;flex-shrink:0}.pm-chat-input-row textarea{resize:none;min-height:60px;max-height:180px;background:var(--bg-app);color:var(--text-primary);border:1px solid var(--border-default);border-radius:8px;padding:.55rem;font-size:13px;transition:border-color var(--transition-fast)}.pm-chat-input-row textarea:focus{outline:none;border-color:var(--accent)}.pm-chat-input-actions{display:flex;justify-content:flex-end;gap:.4rem;align-items:center}.pm-chat-speech-status{color:var(--text-secondary);font-size:.82rem}.pm-chat-speech-status.error{color:var(--status-red)}.pm-confirm-row{display:flex;gap:6px;flex-wrap:wrap;padding-top:4px}.pm-inline-task-link{display:inline;background:none;border:none;padding:0;margin:0;font:inherit;color:var(--accent);cursor:pointer;text-decoration:underline;text-decoration-style:dotted;text-underline-offset:2px;transition:color var(--transition-fast)}.pm-inline-task-link:hover{color:var(--accent-hover)}.pm-inline-task-link:focus-visible{outline:var(--focus-ring);outline-offset:1px}.pm-tool-card{display:flex;flex-direction:column;gap:6px}.pm-tool-title{font-size:12px;font-weight:600;color:var(--text-primary)}.pm-tool-title.ok{color:var(--status-green)}.pm-tool-title.error{color:var(--status-red)}.pm-tool-section{display:flex;flex-direction:column;gap:4px}.pm-tool-section small{font-size:10px;font-weight:500;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:.04em}.pm-tool-json{font-family:var(--font-mono);font-size:11px;padding:6px 8px;background:var(--bg-app);border-radius:6px;border:1px solid var(--border-subtle);overflow-x:auto;margin:0;white-space:pre-wrap;word-break:break-all;max-height:200px;overflow-y:auto;color:var(--text-secondary)}.pm-structured-card{display:flex;flex-direction:column;gap:8px}.pm-structured-card p{margin:0;line-height:1.5}.pm-structured-list{margin:0;padding-left:16px;font-size:12px;line-height:1.6}.pm-structured-list code{font-family:var(--font-mono);font-size:11px;padding:1px 4px;background:var(--bg-app);border-radius:3px;border:1px solid var(--border-subtle)}.pm-collapsible{display:flex;flex-direction:column}.pm-collapsible-toggle{display:inline-flex;align-items:center;gap:4px;padding:3px 0;font-size:12px;color:var(--text-secondary);background:none;border:none;cursor:pointer;text-align:left;transition:color var(--transition-fast)}.pm-collapsible-toggle:hover{color:var(--text-primary)}.pm-collapsible-toggle small{font-size:11px;font-weight:500;text-transform:uppercase;letter-spacing:.04em}.pm-collapsible-content{padding:4px 0 4px 16px}.term-line{font-family:var(--font-mono);font-size:12px;line-height:1.4;white-space:pre-wrap;word-break:break-word}.term-line.output{color:var(--text-primary)}.term-line.input{color:var(--accent)}.term-line.error{color:var(--status-red)}.term-line.prompt{color:var(--status-green)}.term-line.code{color:var(--text-secondary)}:root[data-theme=light] .sidebar-brand{background:linear-gradient(135deg,var(--accent),var(--accent-hover));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}:root[data-theme=light] .home-brand{background:linear-gradient(135deg,var(--accent),var(--accent-hover));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}:root[data-theme=light] .modal-overlay,:root[data-theme=light] .modal-backdrop{background:#0000004d}:root[data-theme=light] .modal-card,:root[data-theme=light] .modal-content{box-shadow:0 12px 40px #00000026}:root[data-theme=light] .sidebar-status-dot.working{box-shadow:0 0 4px #22c55e80}:root[data-theme=light] .sidebar-status-dot.waiting{box-shadow:0 0 4px #eab30866}:root[data-theme=light] .sidebar-status-dot.error{box-shadow:0 0 4px #ef444480}:root[data-theme=light] .home-project-card:hover{box-shadow:0 2px 12px #7c3aed1a}:root[data-theme=light] .pm-tool-json{background:var(--bg-surface-hover);color:var(--text-primary)}:root[data-theme=light] .dashboard-error{background:#ef44440f}:root[data-theme=light] .folder-browser{background:var(--bg-surface-hover)}:root[data-theme=light] .pm-chat-message.user .pm-chat-bubble{border-color:#7c3aed33}:root[data-theme=light] ::-webkit-scrollbar-thumb{background:var(--border-default)}:root[data-theme=light] ::-webkit-scrollbar-thumb:hover{background:var(--text-tertiary)}.pm-dag-panel{display:flex;flex-direction:column;overflow:hidden;height:100%;min-height:0}.pm-dag-list{flex:1;overflow-y:auto;padding:8px;display:flex;flex-direction:column;gap:6px}.pm-task-node{padding:10px 12px;border:1px solid var(--border-default);border-radius:8px;background:var(--bg-surface);transition:background var(--transition-fast),border-color var(--transition-fast)}.pm-task-node.clickable{cursor:pointer}.pm-task-node.clickable:hover{background:var(--bg-surface-hover);border-color:var(--accent)}.pm-task-node.running{border-left:3px solid var(--status-green)}.pm-task-node.reviewing{border-left:3px solid var(--status-yellow)}.pm-task-node.done{border-left:3px solid var(--text-tertiary);opacity:.7}.pm-task-node.failed{border-left:3px solid var(--status-red)}.pm-task-node.pending{border-left:3px solid var(--border-default)}.pm-task-title-row{display:flex;align-items:center;justify-content:space-between;gap:8px}.pm-task-title-row strong{font-size:13px;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.pm-task-status{font-size:11px;font-weight:500;color:var(--text-secondary);text-transform:capitalize;flex-shrink:0}.pm-task-deps,.pm-task-meta{font-size:11px;color:var(--text-tertiary);margin:4px 0 0}
