/**
 * Copyright (c) 2014 The xterm.js authors. All rights reserved.
 * Copyright (c) 2012-2013, Christopher Jeffrey (MIT License)
 * https://github.com/chjj/term.js
 * @license MIT
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 * Originally forked from (with the author's permission):
 *   Fabrice Bellard's javascript vt100 for jslinux:
 *   http://bellard.org/jslinux/
 *   Copyright (c) 2011 Fabrice Bellard
 *   The original design remains. The terminal itself
 *   has been extended to include xterm CSI codes, among
 *   other features.
 */.xterm{cursor:text;position:relative;user-select:none;-ms-user-select:none;-webkit-user-select:none}.xterm.focus,.xterm:focus{outline:none}.xterm .xterm-helpers{position:absolute;top:0;z-index:5}.xterm .xterm-helper-textarea{padding:0;border:0;margin:0;position:absolute;opacity:0;left:-9999em;top:0;width:0;height:0;z-index:-5;white-space:nowrap;overflow:hidden;resize:none}.xterm .composition-view{background:#000;color:#fff;display:none;position:absolute;white-space:nowrap;z-index:1}.xterm .composition-view.active{display:block}.xterm .xterm-viewport{background-color:#000;overflow-y:scroll;cursor:default;position:absolute;right:0;left:0;top:0;bottom:0}.xterm .xterm-screen{position:relative}.xterm .xterm-screen canvas{position:absolute;left:0;top:0}.xterm .xterm-scroll-area{visibility:hidden}.xterm-char-measure-element{display:inline-block;visibility:hidden;position:absolute;top:0;left:-9999em;line-height:normal}.xterm.enable-mouse-events{cursor:default}.xterm.xterm-cursor-pointer,.xterm .xterm-cursor-pointer{cursor:pointer}.xterm.column-select.focus{cursor:crosshair}.xterm .xterm-accessibility:not(.debug),.xterm .xterm-message{position:absolute;left:0;top:0;bottom:0;right:0;z-index:10;color:transparent;pointer-events:none}.xterm .xterm-accessibility-tree:not(.debug) *::selection{color:transparent}.xterm .xterm-accessibility-tree{-webkit-user-select:text;user-select:text;white-space:pre}.xterm .live-region{position:absolute;left:-9999px;width:1px;height:1px;overflow:hidden}.xterm-dim{opacity:1!important}.xterm-underline-1{text-decoration:underline}.xterm-underline-2{text-decoration:double underline}.xterm-underline-3{text-decoration:wavy underline}.xterm-underline-4{text-decoration:dotted underline}.xterm-underline-5{text-decoration:dashed underline}.xterm-overline{text-decoration:overline}.xterm-overline.xterm-underline-1{text-decoration:overline underline}.xterm-overline.xterm-underline-2{text-decoration:overline double underline}.xterm-overline.xterm-underline-3{text-decoration:overline wavy underline}.xterm-overline.xterm-underline-4{text-decoration:overline dotted underline}.xterm-overline.xterm-underline-5{text-decoration:overline dashed underline}.xterm-strikethrough{text-decoration:line-through}.xterm-screen .xterm-decoration-container .xterm-decoration{z-index:6;position:absolute}.xterm-screen .xterm-decoration-container .xterm-decoration.xterm-decoration-top-layer{z-index:7}.xterm-decoration-overview-ruler{z-index:8;position:absolute;top:0;right:0;pointer-events:none}.xterm-decoration-top{z-index:2;position:relative}:root{--bg-main: #f4f5f7;--bg-sidebar: #eceff3;--bg-panel: #ffffff;--bg-bubble-output: #eef4ff;--bg-bubble-input: #dceaff;--bg-bubble-error: #ffe9ea;--bg-bubble-prompt: #f2f5ff;--bg-bubble-code: #eef1fb;--text-primary: #101322;--text-secondary: #4f5d76;--text-dim: #72819a;--accent: #1473e6;--accent-hover: #0f5ec0;--error: #cc2b45;--warning: #c48300;--success: #0d8f56;--border: #d8dde8}*{box-sizing:border-box}html,body,#root{height:100%;margin:0}body{font-family:SF Pro Text,Avenir Next,Helvetica Neue,Segoe UI,sans-serif;background:radial-gradient(1200px 600px at 10% -10%,#dbe8ff,#dbe8ff00 65%),radial-gradient(1100px 700px at 100% 0%,#f3dfff,#f3dfff00 58%),var(--bg-main);color:var(--text-primary);overflow-x:hidden}button,textarea{font:inherit}.app-shell{display:grid;grid-template-columns:280px 1fr;height:100%}.sidebar-container{background:var(--bg-sidebar);border-right:1px solid var(--border);box-shadow:inset -1px 0 #ffffff73}.sidebar-shell{display:flex;flex-direction:column;height:100%}.sidebar-header{display:flex;justify-content:space-between;align-items:center;padding:1rem 1rem .8rem;border-bottom:1px solid var(--border)}.sidebar-header h1{margin:0;color:#1a2740;font-size:1.2rem;letter-spacing:.02em}.sidebar-badge{font-size:.72rem;color:#204a87;background:#dbe8ff;padding:.2rem .48rem;border-radius:999px;font-weight:600}.nav-links{display:grid;grid-template-columns:1fr;gap:.4rem;padding:.75rem;border-bottom:1px solid var(--border)}.nav-link{color:var(--text-secondary);text-decoration:none;padding:.62rem .75rem;border-radius:10px;transition:background .2s ease,color .2s ease;display:inline-flex;align-items:center;gap:.45rem}.nav-link.active,.nav-link:hover{color:#14396e;background:#dbe8ff}.session-list{overflow:auto;padding:.75rem;display:grid;gap:.5rem}.session-card{border:1px solid transparent;background:#ffffff05;color:inherit;text-align:left;border-radius:8px;padding:.7rem;cursor:pointer;position:relative}.session-card.active,.session-card:hover{border-color:var(--accent)}.session-header{display:flex;gap:.5rem;align-items:center}.session-name .model{color:var(--text-primary);font-weight:700}.session-name .separator,.session-name .rest{color:var(--text-secondary)}.kill-btn{position:absolute;top:.2rem;right:.35rem;color:var(--text-dim)}.kill-btn:hover{color:var(--error)}.unread-badge{position:absolute;right:.6rem;bottom:.5rem;background:var(--accent);color:var(--bg-main);border-radius:999px;min-width:1.2rem;text-align:center;font-size:.7rem;padding:.1rem .35rem}.empty-text{color:var(--text-dim);font-size:.9rem}.content-shell{display:flex;flex-direction:column;min-width:0;overflow-x:hidden}.topbar{display:flex;align-items:center;gap:.75rem;padding:.8rem 1rem;border-bottom:1px solid var(--border);background:#ffffffb8;-webkit-backdrop-filter:blur(14px);backdrop-filter:blur(14px)}.topbar strong{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.topbar-subtitle{margin-left:auto;color:var(--text-secondary);font-size:.85rem;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.connection-indicator{width:8px;height:8px;border-radius:999px;background:var(--success)}.connection-indicator.connecting{background:var(--warning)}.connection-indicator.disconnected{background:var(--error)}.page-block{padding:1rem}.stats-grid{margin-top:1rem;display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.8rem}.stats-grid article{background:var(--bg-panel);border:1px solid var(--border);border-radius:10px;padding:.8rem}.dashboard-page{display:grid;gap:1rem}.dashboard-hero{display:flex;justify-content:space-between;align-items:center;gap:1rem}.dashboard-hero h2{margin:0}.dashboard-hero-actions{display:flex;gap:.55rem}.dashboard-section{background:#ffffffd1;border:1px solid var(--border);border-radius:14px;padding:.95rem;box-shadow:0 16px 32px #141f350f}.dashboard-section-title{margin-bottom:.7rem}.dashboard-section-title h3{margin:0}.dashboard-project-grid{display:grid;gap:.75rem;grid-template-columns:repeat(auto-fill,minmax(180px,1fr))}.dashboard-project-grid-inactive{margin-top:.6rem}.dashboard-project-list{border:1px solid var(--border);border-radius:12px;overflow:hidden;background:#fbfdff}.dashboard-project-list-head,.dashboard-project-list-row{display:grid;grid-template-columns:1.1fr 1.6fr .8fr .9fr .8fr;gap:.6rem;align-items:center;padding:.65rem .75rem;text-align:left}.dashboard-project-list-head{font-size:.8rem;color:var(--text-secondary);border-bottom:1px solid var(--border);background:#f3f7fc}.dashboard-project-list-row{border:0;border-bottom:1px solid var(--border);background:transparent;color:var(--text-primary)}.dashboard-project-list-row:last-child{border-bottom:0}.dashboard-project-list-row:hover{background:#f5f9ff}.project-card{border:1px solid var(--border);border-radius:12px;background:#f9fbff;color:var(--text-primary);text-align:left;padding:.75rem;cursor:pointer;min-height:120px}.project-card:hover{border-color:var(--accent)}.project-card p{margin:.35rem 0;color:var(--text-secondary)}.project-card-head{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.project-card-head small{color:var(--text-dim)}.project-card-new{border-style:dashed;display:flex;flex-direction:column;justify-content:center}.dashboard-inactive-projects{margin-top:.85rem}.dashboard-session-groups{display:grid;gap:.8rem}.dashboard-session-group h4{margin:0 0 .45rem;color:var(--text-secondary);font-size:.9rem}.dashboard-session-grid{display:grid;gap:.55rem;grid-template-columns:repeat(auto-fill,minmax(56px,1fr))}.dashboard-resource-grid{display:grid;gap:.65rem;grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}.dashboard-resource-card{border:1px solid var(--border);border-radius:12px;background:#f9fbff;padding:.65rem .7rem;display:grid;gap:.25rem}.dashboard-resource-card small{color:var(--text-secondary);font-size:.8rem}.dashboard-resource-card strong{font-size:1.05rem}.dashboard-agent-breakdown{margin-top:.65rem;display:grid;gap:.55rem;grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}.dashboard-agent-card{border:1px solid var(--border);border-radius:10px;background:#f9fbff;padding:.6rem .65rem;display:grid;gap:.22rem}.dashboard-agent-card small{color:var(--text-secondary)}.session-grid-item{border:1px solid var(--border);border-radius:10px;background:#f8fbff;color:var(--text-primary);display:grid;justify-items:center;align-content:center;gap:.35rem;min-height:56px;cursor:pointer}.session-grid-item:hover{border-color:var(--accent)}.activity-feed-list{margin:0;padding:0;list-style:none;display:grid;gap:.5rem}.activity-feed-list li{border:1px solid var(--border);border-radius:10px;background:#fbfcff;padding:.6rem .7rem;display:flex;justify-content:space-between;gap:.6rem}.activity-feed-list small{color:var(--text-dim);white-space:nowrap}.dashboard-empty-state{background:#ffffffd1;border:1px solid var(--border);border-radius:12px;padding:1rem}.dashboard-empty-state h3{margin-top:0}.dashboard-error{margin:0;color:var(--error)}.dashboard-project-detail p{margin:.3rem 0}.dashboard-project-detail ul{margin:.6rem 0 0;padding-left:1rem;color:var(--text-secondary)}.project-detail-page{display:grid;gap:.85rem}.project-detail-header{display:flex;justify-content:flex-start}.project-detail-meta p{margin:.35rem 0}.project-detail-task-list{margin:0;padding:0;list-style:none;display:grid;gap:.5rem}.project-detail-task-list li{border:1px solid var(--border);border-radius:8px;background:#f8fbff;padding:.6rem .7rem;display:flex;justify-content:space-between;gap:.5rem}.project-detail-task-list small{color:var(--text-secondary)}.sessions-grid{display:grid;grid-template-columns:260px 1fr;gap:.8rem;padding:.8rem;min-height:0;height:calc(100% - 56px)}.sessions-panel,.viewer-panel{background:#ffffffdb;border:1px solid var(--border);border-radius:10px;min-height:0}.sessions-panel{padding:.7rem;overflow:auto}.sessions-panel-head{display:flex;justify-content:space-between;align-items:center;gap:.6rem;margin-bottom:.55rem}.sessions-panel-head h3{margin:0}.sessions-panel-actions{display:flex;gap:.45rem}.sessions-group-toggle{display:grid;grid-template-columns:1fr 1fr;gap:.45rem;margin-bottom:.7rem}.sessions-group{margin-bottom:.75rem}.sessions-group h4{margin:0 0 .35rem;color:var(--text-secondary);font-size:.84rem}.session-row{width:100%;text-align:left;background:#f8fbff;color:var(--text-secondary);border:1px solid var(--border);border-radius:8px;margin-bottom:.45rem;padding:.45rem;display:grid;grid-template-columns:1fr auto;gap:.25rem;position:relative}.session-row.active,.session-row:hover{color:var(--text-primary);border-color:var(--accent)}.session-row-main{border:0;background:transparent;text-align:left;display:grid;gap:.2rem;color:inherit;padding-right:1.8rem}.session-row-end{position:absolute;right:.3rem;top:.3rem;padding:.2rem;min-width:1.4rem;min-height:1.4rem}.viewer-panel{display:flex;flex-direction:column;overflow:hidden}.viewer-toolbar{padding:.65rem;border-bottom:1px solid var(--border);display:flex;justify-content:space-between;align-items:center}.messages-wrap{flex:1;overflow:auto;padding:.8rem;display:flex;flex-direction:column;gap:.5rem}.term-line{white-space:pre-wrap;border:1px solid var(--border);border-radius:8px;padding:.55rem .65rem}.term-line.output,.term-line.normal{background:var(--bg-bubble-output)}.term-line.input,.term-line.user{background:var(--bg-bubble-input)}.term-line.error{background:var(--bg-bubble-error)}.term-line.prompt{background:var(--bg-bubble-prompt)}.term-line.code{background:var(--bg-bubble-code)}.prompt-actions{border-top:1px solid var(--border);padding:.6rem;display:flex;flex-wrap:wrap;gap:.5rem}.action-btn,.primary-btn,.secondary-btn{border:1px solid var(--border);color:var(--text-primary);border-radius:10px;padding:.52rem .84rem;background:#fff;cursor:pointer;transition:border-color .2s ease,transform .15s ease,box-shadow .2s ease;display:inline-flex;align-items:center;justify-content:center;gap:.38rem}.primary-btn{border-color:#c9dcff;background:#e8f1ff;color:#14396e}.action-btn:hover,.primary-btn:hover,.secondary-btn:hover{border-color:var(--accent);box-shadow:0 8px 20px #1473e624;transform:translateY(-1px)}.action-btn.danger{border-color:#7f2d2d;color:#ff9e9e}.input-row{border-top:1px solid var(--border);display:grid;grid-template-columns:1fr auto;gap:.5rem;padding:.6rem}.input-row textarea{resize:none;min-height:52px;max-height:150px;padding:.55rem;border-radius:8px;border:1px solid var(--border);background:#f8fbff;color:var(--text-primary)}.session-send-error{margin:0 .7rem .7rem}.sessions-mobile-list-page,.sessions-mobile-viewer-page{display:grid;gap:.7rem;padding:.8rem}.sessions-mobile-filters{display:grid;gap:.5rem;grid-template-columns:1fr 140px}.sessions-mobile-filters input,.sessions-mobile-filters select{border:1px solid var(--border);border-radius:8px;padding:.55rem .6rem;background:#f8fbff;color:var(--text-primary)}.sessions-mobile-list{display:grid;gap:.5rem}.sessions-mobile-viewer-head{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.terminal{flex:1;min-height:300px;padding:.2rem}.empty-view{color:var(--text-dim);padding:1rem}.pm-chat-page{padding:.8rem;min-height:0}.pm-chat-layout-v2{display:grid;grid-template-columns:280px 1fr;gap:.8rem;min-height:calc(100vh - 150px)}.pm-project-list{border:1px solid var(--border);border-radius:12px;background:#ffffffdb;overflow:hidden;display:flex;flex-direction:column}.pm-project-items{padding:.55rem;display:grid;gap:.45rem;overflow:auto}.pm-project-item{border:1px solid var(--border);border-radius:10px;background:#f8fbff;color:var(--text-primary);text-align:left;padding:.55rem .65rem;display:grid;gap:.2rem;position:relative}.pm-project-item.active{border-color:var(--accent)}.pm-project-item-name{font-weight:600}.pm-project-item-meta{font-size:.8rem;color:var(--text-secondary)}.pm-notification-badge{position:absolute;right:.5rem;top:.5rem;min-width:1.2rem;border-radius:999px;font-size:.72rem;background:#d91f3a;color:#fff;text-align:center;padding:.1rem .3rem}.pm-project-content{min-width:0;display:grid;gap:.7rem;align-content:start}.pm-chat-header{display:flex;align-items:center;justify-content:space-between;gap:.65rem}.pm-chat-header h2{margin:0}.pm-pane-toggle{display:inline-flex;gap:.4rem}.pm-project-detail,.pm-report-panel{border:1px solid var(--border);border-radius:12px;background:#ffffffdb;overflow:hidden}.pm-report-panel-body{padding:.75rem}.pm-report-panel-body p{margin:0;color:var(--text-secondary);white-space:pre-wrap}.pm-project-detail-body{padding:.75rem;display:grid;gap:.75rem}.pm-project-detail-meta p{margin:.18rem 0;color:var(--text-secondary)}.pm-project-status-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:.45rem}.pm-status-card{border:1px solid var(--border);border-radius:10px;background:#f8fbff;padding:.45rem .55rem;display:grid}.pm-status-card small{color:var(--text-secondary)}.pm-project-session-list h4{margin:0 0 .45rem}.pm-project-session-list{display:grid;gap:.35rem}.pm-project-session-item{border:1px solid var(--border);border-radius:8px;background:#f8fbff;display:flex;justify-content:space-between;padding:.45rem .55rem;color:var(--text-primary);text-align:left}.pm-project-session-item small{color:var(--text-secondary)}.pm-chat-main{display:grid;grid-template-columns:360px 1fr;gap:.8rem;min-height:0;height:calc(100vh - 320px)}.project-selector{display:inline-flex;align-items:center;gap:.5rem;color:var(--text-secondary)}.project-selector select{background:#f8fbff;color:var(--text-primary);border:1px solid var(--border);border-radius:8px;padding:.45rem .6rem}.pm-chat-layout{display:grid;grid-template-columns:360px 1fr;gap:.8rem;min-height:0;height:calc(100vh - 150px)}.pm-dag-panel,.pm-chat-panel{background:#ffffffdb;border:1px solid var(--border);border-radius:10px;min-height:0}.pm-dag-panel{display:flex;flex-direction:column;overflow:hidden}.pm-panel-header{display:flex;justify-content:space-between;align-items:center;padding:.7rem;border-bottom:1px solid var(--border)}.pm-panel-header h3{margin:0}.pm-panel-header small{color:var(--text-secondary)}.pm-dag-list{overflow:auto;padding:.7rem;display:grid;gap:.6rem}.pm-task-node{border:1px solid var(--border);border-radius:9px;background:#f8fbff;padding:.6rem}.pm-task-node.clickable{cursor:pointer}.pm-task-node.clickable:hover{border-color:var(--accent)}.pm-task-title-row{display:flex;justify-content:space-between;align-items:center;gap:.5rem}.pm-task-status{text-transform:lowercase;color:var(--text-secondary);font-size:.82rem}.pm-task-deps,.pm-task-meta{margin:.45rem 0 0;color:var(--text-secondary);font-size:.84rem}.pm-task-node.pending{border-color:#4b5563}.pm-task-node.running{border-color:#3b82f6}.pm-task-node.reviewing{border-color:#eab308}.pm-task-node.done{border-color:#10b981}.pm-task-node.failed{border-color:#ef4444}.pm-chat-panel{display:flex;flex-direction:column;overflow:hidden}.pm-chat-messages{flex:1;overflow:auto;padding:.8rem;display:grid;gap:.6rem}.pm-chat-message{display:grid;gap:.45rem}.pm-chat-message.user{justify-items:end}.pm-chat-bubble{border:1px solid var(--border);border-radius:10px;padding:.6rem .7rem;max-width:min(760px,100%);white-space:pre-wrap}.pm-chat-message.user .pm-chat-bubble{background:var(--bg-bubble-input)}.pm-chat-message.assistant .pm-chat-bubble{background:var(--bg-bubble-output)}.pm-chat-message.tool .pm-chat-bubble{background:var(--bg-bubble-code);font-size:.9rem}.pm-chat-message.error .pm-chat-bubble{background:var(--bg-bubble-error)}.pm-confirm-row{display:flex;gap:.45rem;flex-wrap:wrap}.pm-inline-task-link{border:0;border-bottom:1px dashed var(--accent);color:var(--accent);background:transparent;padding:0;cursor:pointer}.pm-streaming-indicator{color:var(--text-secondary);font-size:.9rem}.pm-chat-input-row{border-top:1px solid var(--border);padding:.6rem;display:grid;gap:.45rem}.pm-chat-input-row textarea{resize:none;min-height:70px;max-height:180px;background:#f8fbff;color:var(--text-primary);border:1px solid var(--border);border-radius:8px;padding:.55rem}.pm-chat-input-actions{display:flex;justify-content:space-between;gap:.5rem}.icon-only-btn{width:2.2rem;height:2.2rem;padding:.35rem;display:inline-flex;align-items:center;justify-content:center}.icon-only-btn svg{width:1.1rem;height:1.1rem}.icon-only-btn.recording{border-color:#ef4444;color:#ffb4b4}.pm-chat-speech-status{color:var(--text-secondary);font-size:.82rem}.pm-chat-speech-status.error{color:var(--error)}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.status-dot{width:8px;height:8px;border-radius:999px;display:inline-block}.status-dot.working{background:var(--success)}.status-dot.waiting{background:var(--warning)}.status-dot.idle{background:var(--text-dim)}.status-dot.disconnected{background:var(--error)}.settings-tabs{display:flex;gap:.5rem}.secondary-btn.active{border-color:var(--accent);color:var(--text-primary)}.settings-grid{display:grid;grid-template-columns:260px 1fr;gap:.8rem}.settings-list{border:1px solid var(--border);border-radius:10px;padding:.7rem;background:#ffffffdb;display:grid;gap:.5rem;align-content:start}.settings-editor{border:1px solid var(--border);border-radius:10px;padding:.8rem;background:#ffffffdb;display:grid;gap:.6rem}.settings-editor label{display:grid;gap:.25rem;color:var(--text-secondary);font-size:.9rem}.settings-editor input,.settings-editor textarea,.settings-editor select{border:1px solid var(--border);border-radius:8px;background:#f8fbff;color:var(--text-primary);padding:.5rem .55rem}.settings-code{min-height:220px;resize:vertical}.settings-actions{display:flex;gap:.5rem}.settings-phase-editor{display:grid;gap:.55rem}.settings-phase-editor-head{display:flex;align-items:center;justify-content:space-between;gap:.6rem}.settings-phase-editor-modes{display:flex;gap:.4rem}.settings-phase-table{width:100%;border-collapse:collapse;border:1px solid var(--border)}.settings-phase-table th,.settings-phase-table td{border:1px solid var(--border);padding:.45rem;text-align:left;vertical-align:top}.settings-phase-table th{color:var(--text-secondary);font-size:.8rem}.settings-phase-table input{width:100%}.settings-phase-add{justify-self:flex-start}.settings-workflow-editor{display:grid;gap:.7rem}.settings-stage-card{border:1px solid var(--border);border-radius:10px;padding:.65rem;background:#f8fbff;display:grid;gap:.6rem}.settings-stage-card.disabled{opacity:.72}.settings-stage-header{display:flex;align-items:center;justify-content:space-between;gap:.6rem}.settings-stage-header h4{margin:0;display:inline-flex;align-items:center;gap:.35rem;font-size:.92rem}.settings-stage-hint{margin:0;color:var(--text-secondary);font-size:.86rem}.settings-stage-role{border:1px solid var(--border);border-radius:8px;background:#fff;padding:.55rem;display:grid;gap:.5rem}.settings-stage-role-head{display:flex;align-items:center;justify-content:space-between;gap:.45rem}.settings-stage-role-head strong{font-size:.88rem;color:var(--text-secondary)}.settings-role-agents{display:grid;gap:.35rem}.settings-role-agents>span{color:var(--text-secondary);font-size:.86rem}.settings-role-agents-grid{display:flex;flex-wrap:wrap;gap:.45rem}.settings-role-agent-item{display:inline-flex;align-items:center;gap:.3rem;padding:.2rem .45rem;border:1px solid var(--border);border-radius:999px;background:#f7faff;color:var(--text-primary)}.settings-stage-add{justify-self:flex-start;display:inline-flex;align-items:center;gap:.35rem}.settings-message{margin:0;color:var(--text-secondary)}.text-error{color:var(--error)}.demand-page{display:grid;gap:.8rem}.demand-page-embedded{padding:0}.demand-header{display:flex;justify-content:space-between;align-items:flex-start;gap:.8rem}.demand-header h2{margin:0}.demand-header p{margin:.35rem 0 0;color:var(--text-secondary)}.demand-readonly-hint{color:var(--warning);font-size:.86rem}.demand-controls{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:.6rem;align-items:end}.demand-controls label,.demand-quick-add label,.demand-modal-form label{display:grid;gap:.3rem;color:var(--text-secondary)}.demand-controls input,.demand-controls select,.demand-quick-add input,.demand-modal-form input,.demand-modal-form textarea,.demand-modal-form select{border:1px solid var(--border);border-radius:8px;background:#f8fbff;color:var(--text-primary);padding:.45rem .55rem}.demand-quick-add{display:grid;grid-template-columns:1.6fr 1fr auto;gap:.6rem;align-items:end}.demand-list{overflow:hidden}.demand-list-toolbar{display:flex;gap:.45rem;flex-wrap:wrap;margin-bottom:.55rem}.demand-table-wrap{overflow-x:auto}.demand-table{width:100%;border-collapse:collapse}.demand-table th,.demand-table td{border-bottom:1px solid var(--border);padding:.6rem;text-align:left;vertical-align:top}.demand-table th{color:var(--text-secondary);font-size:.82rem}.demand-table td p{margin:.25rem 0 0;color:var(--text-secondary)}.demand-row-actions{display:flex;gap:.4rem}.demand-priority-cell{display:inline-flex;align-items:center;gap:.25rem}.demand-priority-cell input{width:70px;border:1px solid var(--border);border-radius:8px;background:#f8fbff;color:var(--text-primary);padding:.35rem .45rem}.demand-modal-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:.55rem}.demand-digest{white-space:pre-wrap;color:var(--text-secondary);margin:0}.demand-assistant-section{display:grid;gap:.6rem}.demand-assistant-header{display:flex;justify-content:space-between;align-items:center;gap:.6rem}.demand-assistant-header h3{margin:0}.demand-report-summary{margin:0;color:var(--text-secondary);font-size:.9rem}.demand-chat-history{border:1px solid var(--border);border-radius:10px;background:#fbfcff;min-height:160px;max-height:280px;overflow:auto;padding:.55rem;display:grid;gap:.45rem}.demand-chat-row{border:1px solid var(--border);border-radius:8px;padding:.45rem .55rem;background:#fff}.demand-chat-row.assistant{background:#f2f7ff}.demand-chat-row.user{background:#f7fbff}.demand-chat-row strong{font-size:.82rem;color:var(--text-secondary)}.demand-chat-row p{margin:.25rem 0 0;white-space:pre-wrap}.demand-chat-input{display:grid;gap:.45rem}.demand-chat-input textarea{border:1px solid var(--border);border-radius:8px;background:#f8fbff;color:var(--text-primary);padding:.45rem .55rem;resize:vertical}.mobile-sidebar-toggle,.mobile-sidebar-backdrop{display:none}.settings-page{display:grid;gap:.8rem}.settings-card{max-width:560px;display:grid;gap:.7rem;padding:.9rem;border:1px solid var(--border);border-radius:10px;background:#ffffffdb}.settings-card h3,.settings-card p{margin:0}.settings-field{display:grid;gap:.35rem}.settings-field span{color:var(--text-secondary);font-size:.9rem}.settings-field input{background:#f8fbff;color:var(--text-primary);border:1px solid var(--border);border-radius:8px;padding:.45rem .55rem}.settings-field-checkbox{display:flex;align-items:center;justify-content:space-between;gap:.5rem}.settings-field select{background:#f8fbff;color:var(--text-primary);border:1px solid var(--border);border-radius:8px;padding:.45rem .55rem}.settings-actions{display:flex;align-items:center;gap:.6rem}.settings-actions small{color:var(--success)}.inline-field-row{display:grid;grid-template-columns:1fr auto;gap:.5rem}.modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0f162347;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:40;display:grid;place-items:center;padding:1rem}.modal-card{width:min(720px,100%);background:#fff;border:1px solid var(--border);border-radius:16px;box-shadow:0 24px 60px #18253d40;overflow:hidden}.modal-header{display:flex;justify-content:space-between;align-items:center;padding:.9rem 1rem;border-bottom:1px solid var(--border);background:#f7f9fc}.modal-header h3{margin:0;font-size:1rem}.modal-body{padding:1rem}.modal-form{display:grid;gap:.8rem}@media (max-width: 900px){.stats-grid,.sessions-grid{grid-template-columns:1fr}.sessions-panel{max-height:180px}.activity-feed-list li{flex-direction:column}.settings-grid{grid-template-columns:1fr}.pm-chat-layout,.pm-chat-main,.pm-chat-layout-v2{grid-template-columns:1fr;height:auto}.pm-dag-panel{max-height:260px}.settings-tabs{flex-wrap:wrap}.dashboard-hero{align-items:flex-start;flex-direction:column}.demand-controls,.demand-quick-add{grid-template-columns:1fr}.demand-modal-grid{grid-template-columns:1fr 1fr}.dashboard-project-list{overflow-x:auto}.dashboard-project-list-head,.dashboard-project-list-row{min-width:760px}.pm-project-list.hidden-mobile,.pm-project-content.hidden-mobile{display:none}}@media (max-width: 768px){.app-shell{grid-template-columns:1fr}.page-block,.sessions-grid,.pm-chat-page{padding:.65rem}.mobile-sidebar-toggle{display:inline-flex;position:fixed;left:.7rem;top:.7rem;z-index:11;border:1px solid var(--border);border-radius:8px;background:#13213f;color:var(--text-primary);padding:.4rem .55rem}.sidebar-container{position:fixed;left:0;top:0;bottom:0;width:min(82vw,300px);max-width:300px;transform:translate(-100%);transition:transform .2s ease;z-index:10}.sidebar-container.open{transform:translate(0)}.topbar{padding-left:3.8rem}.topbar-subtitle{display:none}.input-row,.sessions-mobile-filters{grid-template-columns:1fr}.pm-chat-header,.settings-phase-editor-head{align-items:flex-start;flex-direction:column}.settings-phase-editor-modes{flex-wrap:wrap}.settings-phase-table{display:block;overflow-x:auto;white-space:nowrap}.mobile-sidebar-backdrop.open{display:block;position:fixed;top:0;right:0;bottom:0;left:0;border:0;background:#04081280;z-index:9}}@media (max-width: 480px){.mobile-sidebar-toggle{left:.55rem;top:.55rem}.topbar{gap:.5rem;padding-left:3.35rem;padding-right:.65rem}.dashboard-section,.settings-editor,.settings-list,.pm-dag-panel,.pm-chat-panel{border-radius:8px}.action-btn,.primary-btn,.secondary-btn{min-height:2.2rem}}
